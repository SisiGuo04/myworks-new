<!DOCTYPE html>
<html lang="zh-CN" class="no-js">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="其思衔木鸣的个人作品集展示，包含Web开发、Android开发、物联网等多个领域的项目">
    <meta name="keywords" content="作品集,个人主页,Web开发,Android开发,物联网,portfolio">
    <meta name="author" content="GuoSisi">
    
    <!-- 安全头 -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https: data:; img-src 'self' https: data: blob:; font-src 'self' https: data:; script-src 'self' 'unsafe-inline' 'unsafe-eval' https:; style-src 'self' 'unsafe-inline' https:;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <!-- 缓存控制 -->
    <meta http-equiv="Cache-Control" content="public, max-age=31536000">
    <meta http-equiv="Expires" content="31536000">
    
    <!-- PWA支持 -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#2563eb">
    <link rel="apple-touch-icon" href="/images/logo.png">
    
    <!-- SEO优化 -->
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="description" content="其思衔木鸣的个人作品集展示，包含物联网、Web开发、Android开发等多个领域的项目作品。展示了Picture Perfect Scheduler摄影预约平台、BMI健康助手、G-Note笔记APP等优秀项目。">
    <meta name="keywords" content="其思衔木鸣,物联网工程,作品集,个人主页,项目展示,Web开发,Android开发">
    <meta property="og:title" content="其思衔木鸣的作品集">
    <meta property="og:description" content="展示物联网、Web开发、Android开发等多个领域的优秀项目">
    <meta property="og:image" content="/images/logo.webp">
    <meta property="og:url" content="https://guosisi.top">
    <link rel="canonical" href="https://guosisi.top">

    <!-- 可访问性优化 -->
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <title>我的作品集</title>
    <!-- 浏览器标签图标 -->
    <link rel="icon" type="image/x-icon" href="./images/logo.ico">
    <link rel="shortcut icon" type="image/x-icon" href="./images/logo.ico">
    
    <!-- 预加载关键资源 -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://npm.elemecdn.com" crossorigin>
    
    <!-- 关键CSS内联 -->
    <style>
        /* 首屏关键样式 */
        @import url('styles.min.css');
    </style>
    
    <!-- 延迟加载非关键CSS -->
    <link rel="stylesheet" href="styles01.min.css" media="print" onload="this.media='all'">
    <link rel="preload" as="style" href="https://npm.elemecdn.com/lxgw-wenkai-webfont@1.1.0/style.css" />
    <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    
    <!-- 预加载关键图片 -->
    <link rel="preload" as="image" fetchpriority="high" href="./images/logotp.webp">
    <link rel="preload" as="image" fetchpriority="high" href="./images/pps.webp">
    
    <!-- 图片优化策略 -->
    <link rel="preload" as="image" href="./images/logotp.webp">
    <link rel="preload" as="image" href="./images/pps.webp">
    <link rel="preload" as="image" href="./images/bmi.webp">
    <link rel="preload" as="image" href="./images/ai-resume.png">
    <link rel="preload" as="image" href="./images/gnote/登录.png">
    
    <!-- 优化字体加载 -->
    <link rel="preload" href="https://npm.elemecdn.com/lxgw-wenkai-webfont@1.1.0/style.css" as="style" 
          onload="this.onload=null;this.rel='stylesheet'" crossorigin>
    <noscript>
        <link rel="stylesheet" href="https://npm.elemecdn.com/lxgw-wenkai-webfont@1.1.0/style.css">
    </noscript>

    <!-- 使用CDN加速和压缩版本 -->
    <!-- DNS预解析 -->
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://npm.elemecdn.com">
    
    <!-- 预连接 -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="dns-prefetch" href="https://beian.miit.gov.cn">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/dist/LXGWWenKai-Regular.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" media="print" onload="this.media='all'">
    
    <!-- 压缩版本的样式表 -->
    <link rel="stylesheet" href="styles.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="styles01.min.css" media="print" onload="this.media='all'">
    
    <!-- 关键渲染路径CSS -->
    <style>
        /* 首屏关键样式 */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            z-index: 9999;
            transition: opacity 0.5s;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff7e5f, #feb47b);
            z-index: 1000;
            transition: width 0.1s;
        }
        .container {
            opacity: 0;
            transition: opacity 0.5s ease-in;
        }
        .container.visible {
            opacity: 1;
        }
        .scroll-top-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #3498db;
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .scroll-top-btn.show {
            opacity: 1;
            visibility: visible;
        }
        .cursor {
            position: fixed;
            width: 10px;
            height: 10px;
            background: rgba(52, 152, 219, 0.5);
            border-radius: 50%;
            pointer-events: none;
            animation: fadeOut 1s forwards;
            z-index: 9999;
        }
        @keyframes fadeOut {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
        .skeleton-wrapper {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .skeleton {
            background: #e0e0e0;
            border-radius: 4px;
            animation: skeleton-loading 1.5s infinite;
        }
        .skeleton-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
        }
        .skeleton-text {
            height: 20px;
        }
        .skeleton-card {
            width: 100px;
            height: 100px;
        }
        .skeleton-image {
            width: 100%;
            height: 200px;
        }
        @keyframes skeleton-loading {
            0% {
                background-color: #e0e0e0;
            }
            50% {
                background-color: #f0f0f0;
            }
            100% {
                background-color: #e0e0e0;
            }
        }
    </style>

    <!-- 特性检测脚本 -->
    <script>
        document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
        
        // 检测浏览器支持的特性
        window.APP_FEATURES = {
            webp: false,
            intersectionObserver: 'IntersectionObserver' in window,
            webAnimations: 'animate' in document.createElement('div'),
            touchEvents: 'ontouchstart' in window,
            passiveEvents: (function() {
                let supportsPassive = false;
                try {
                    window.addEventListener("test", null, Object.defineProperty({}, 'passive', {
                        get: function () { supportsPassive = true; }
                    }));
                } catch(e) {}
                return supportsPassive;
            })()
        };
        
        // 检测WebP支持
        const webpImage = new Image();
        webpImage.onload = function() {
            window.APP_FEATURES.webp = (webpImage.width === 1);
        };
        webpImage.onerror = function() {
            window.APP_FEATURES.webp = false;
        };
        webpImage.src = 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=';
    </script>

    <!-- 添加polyfill -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver"></script>
</head>

<body>
    <!-- 滚动进度条 -->
    <div class="progress-bar"></div>

    <div class="container visible">
        <div class="card">
            <!-- 修复个人信息部分的结构 -->
            <div class="profile">
                <picture class="avatar">
                    <source srcset="./images/logotp.webp" type="image/webp">
                    <source srcset="logotp.png" type="image/png">
                    <img src="logotp.png" alt="个人头像" loading="eager" width="120" height="120" 
                        onerror="this.onerror=null; this.classList.add('error'); if(this.src.endsWith('webp')){this.src='logotp.png';}"
                        onload="this.classList.add('loaded')" />
                </picture>
                <h1>其思衔木鸣</h1>
                <p class="title">
                    <i class="fa-solid fa-graduation-cap"></i>
                    物联网工程专业本科生
                </p>
                <div class="location">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>徐州，江苏，中国🇨🇳</span>
                </div>
            </div>

            <div class="about">
                <div class="section-header">
                    <i class="fas fa-user-circle"></i>
                    <h2>关于我</h2>
                </div>
                <p>我是大连科技学院物联网工程专业的学生。掌握 Java、Web 开发、物联网开发、Linux等技术，持有 RHCSA、物联网研发工程师岗位证书等多项技能认证。在校期间担任班长，带领班级多次评优；主持和参与过多个项目，有省级获奖的一站式摄影预约平台和基于BIM和虚幻引擎5的家装流程智能管理平台、G-Note安卓 APP 、基于51单片机的超声波测距系统设计、基于物联网和 Android 的温湿度采集系统等，此外，还参与过政府实习负责数据统计工作。我性格积极主动，乐于探索新领域、新功能与新技术，充满创新精神，面对复杂问题时总能保持好奇心，主动钻研解决方案。执行力出色，做事雷厉风行，一旦确定目标，便能有条不紊推进任务，并始终注重细节，力求将每件事做到尽善尽美。未来，我希望深耕专业领域，持续探索新技术，在实践中不断提升自我，创造更多价值。</p>
                <div class="tech-stack">
                    <div class="tech-item">
                        <i class="fab fa-java"></i>
                        <span>Java</span>
                    </div>
                    <div class="tech-item">
                        <i class="fas fa-leaf"></i>
                        <span>Spring Boot</span>
                    </div>
                    <div class="tech-item">
                        <i class="fab fa-vuejs"></i>
                        <span>Vue.js</span>
                    </div>
                    <div class="tech-item">
                        <i class="fab fa-python"></i>
                        <span>Python</span>
                    </div>
                    <div class="tech-item">
                        <i class="fa-solid fa-cat"></i>
                        <span>Tomcat</span>
                    </div>
                    <div class="tech-item">
                        <i class="fa-brands fa-linux"></i>
                        <span>Linux</span>
                    </div>
                    <div class="tech-item">
                        <i class="fa-solid fa-c"></i>
                        <span>C语言</span>
                    </div>
                    <div class="tech-item">
                        <i class="fa-solid fa-gears"></i>
                        <span>STM32</span>
                    </div>
                </div>
            </div>

            <!-- 社交媒体 -->
            <div class="social-section">
                <div class="section-header">
                    <i class="fas fa-share-alt"></i>
                    <h2>社交媒体</h2>
                </div>
                <div class="social-links">
                    <a href="https://github.com/SisiGuo04" target="_blank" class="social-icon" title="GitHub">
                        <i class="fab fa-github"></i>
                        <span>GitHub</span>
                        <div class="tooltip">即将跳转到 GitHub</div>
                    </a>
                    <a href="https://blog.csdn.net/A_GandS" target="_blank" class="social-icon" title="CSDN">
                        <i class="fas fa-code"></i>
                        <span>CSDN</span>
                        <div class="tooltip">即将跳转到 CSDN</div>
                    </a>
                    <button class="social-icon" id="blog-btn" title="blog">
                        <i class="fas fa-blog"></i>
                        <span>博客</span>
                        <div class="tooltip">即将跳转到 博客</div>
                    </button>
                    <button class="social-icon" id="wechat-btn" title="WeChat">
                        <i class="fab fa-weixin"></i>
                        <span>公众号</span>
                    </button>
                </div>
            </div>
            <!-- 修复轮播图结构 -->
            <div class="carousel-container">
                <div class="section-header">
                    <i class="fas fa-project-diagram"></i>
                    <h2>项目作品集合</h2>
                </div>
                <div class="carousel">
                    <div class="carousel-track">
                        <!-- 第一个轮播图 -->
                        <div class="carousel-slide" data-modal-content="modal-content-1">
                            <img data-src="./images/pps.gif" src="./images/pps.webp" alt="Picture Perfect Scheduler：一站式摄影预约平台" loading="lazy">
                            <div class="slide-caption">
                                <h3>Picture Perfect Scheduler：一站式摄影预约平台</h3>
                                <p>一站式摄影预约平台，满足用户个性化摄影服务需求</p>
                            </div>
                        </div>
                        <!-- 第二个轮播图 -->
                        <div class="carousel-slide" data-modal-content="modal-content-2">
                            <img data-src="./images/bmi.gif" src="./images/bmi.webp" alt="BMI健康助手" loading="lazy">
                            <div class="slide-caption">
                                <h3>BMI健康助手</h3>
                                <p>基于Web的交互式健康评估工具，提供BMI、体脂率等多项健康指标计算和个性化建议。</p>
                            </div>
                        </div>
                        <!-- 第三个轮播图 -->
                        <div class="carousel-slide" data-modal-content="modal-content-3">
                            <img data-src="./images/ai-resume.gif" src="./images/ai-resume.png" alt="AI简历助手：智能简历制作平台" loading="lazy">
                            <div class="slide-caption">
                                <h3>AI简历助手：智能简历制作平台</h3>
                                <p>基于Web的智能简历制作工具，集成AI技术，提供专业简历模板和自动内容生成功能</p>
                            </div>
                        </div>
                        <!-- 第四个轮播图 -->
                        <div class="carousel-slide" data-modal-content="modal-content-4">
                            <img src="./images/gnote.gif" alt="G-Note：基于Android的笔记APP">
                            <div class="slide-caption">
                                <h3>G-Note：基于Android的笔记APP</h3>
                                <p>一款功能完整的 Android 笔记应用，支持文本与图片笔记、社交广场等功能</p>
                            </div>
                        </div>
                        <!-- 第五个轮播图 -->
                        <div class="carousel-slide" data-modal-content="modal-content-5">
                            <img data-src="./images/csbcjxt/cover.webp" src="./images/csbcjxt/cover.webp" alt="基于单片机的超声波测距系统" loading="lazy">
                            <div class="slide-caption">
                                <h3>基于单片机的超声波测距系统</h3>
                                <p>使用 STC89C52 单片机和 HC-SR04 超声波传感器实现的智能测距系统，可应用于工业自动化和智能家居场景</p>
                            </div>
                        </div>
                        <!-- 第六个轮播图 -->
                        <div class="carousel-slide" data-modal-content="modal-content-6">
                            <img data-src="./images/iot-android-temp/cover.png" src="./images/iot-android-temp/cover.png" alt="基于物联网和Android的温湿度采集系统" loading="lazy">
                            <div class="slide-caption">
                                <h3>基于物联网和Android的温湿度采集系统</h3>
                                <p>利用DHT11传感器和CC2541蓝牙模块实现的智能温湿度监测系统，支持实时数据采集、可视化显示及历史记录查看</p>
                            </div>
                        </div>
                        <!-- 第七个轮播图 -->
                        <div class="carousel-slide" data-modal-content="modal-content-7">
                            <img data-src="./images/ue5/enter-app.png" src="./images/ue5/enter-app.png" alt="基于BIM和UE5的家装流程可视化应用" loading="lazy">
                            <div class="slide-caption">
                                <h3>基于BIM和UE5的家装流程可视化应用</h3>
                                <p>本项目基于虚幻引擎5（Unreal Engine 5）开发了一个家装流程可视化应用</p>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-button prev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="carousel-button next">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="carousel-dots">
                        <span class="dot active"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 微信二维码弹窗 -->
    <div class="modal" id="wechat-modal">
        <div class="modal-content">
            <span class="close" id="wechat-close">
                <i class="fas fa-times"></i>
            </span>
            <div class="modal-header">
                <i class="fab fa-weixin"></i>
                <h3>扫码关注</h3>
            </div>
            <div class="social-preview">
                <div class="social-preview-item">
                    <i class="fab fa-github"></i>
                    <span>Github</span>
                </div>
                <div class="social-preview-item">
                    <i class="fas fa-blog"></i>
                    <span>博客</span>
                </div>
                <div class="social-preview-item">
                    <i class="fas fa-code"></i>
                    <span>CSDN</span>
                </div>
                <div class="social-preview-item">
                    <i class="fab fa-weixin"></i>
                    <span>公众号</span>
                </div>
            </div>
            <p class="modal-subtitle">扫描他带走我</p>
            <img src="./images/wxOfficialAccount.webp" alt="微信公众号二维码" class="qr-code" loading="lazy" width="200" height="200">
        </div>
    </div>

    <!-- 博客提示弹窗 -->
    <div class="modal" id="blog-modal">
        <div class="modal-content">
            <span class="close-blog" id="blog-close">
                <i class="fas fa-times"></i>
            </span>
            <div class="modal-header">
                <i class="fas fa-blog"></i>
                <h3>提示</h3>
            </div>
            <p class="modal-subtitle">由于服务器负载导致博客系统崩溃，还在维护中...</p>
        </div>
    </div>

    <!-- 轮播图放大弹窗 -->
    <div class="modal" id="carousel-modal">
        <div class="modal-content carousel-modal-content">
            <span class="close" id="carousel-close">
                <i class="fas fa-times"></i>
            </span>
            <div class="carousel-modal-media">
                <img id="carousel-modal-img" src="" alt="项目详情" loading="lazy">
            </div>
            <div class="carousel-modal-info">
                <h3 id="carousel-modal-title"></h3>
                <div id="carousel-modal-desc"></div>
            </div>
        </div>
    </div>

    <!-- 版权信息 -->
    <div id="copyright">
        <p>Copyright © 2025 - <span id="currentYear"></span> 其思衔木鸣(GuoSisi). All rights reserved. <a href="./terms-of-use.html">Terms of Use</a> | <a
            href="./privacy-policy.html">Privacy Policy</a> | <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer">辽ICP备2024033391号</a></p>
    </div>

    <!-- 使用压缩版本的脚本 -->
    <!-- 延迟加载非关键脚本 -->
    <script src="script.min.js" defer></script>
    
    <!-- 关键特性检测内联 -->
    <script>
        // 检测浏览器支持的特性
        window.APP_FEATURES = {
            webp: false,
            intersectionObserver: 'IntersectionObserver' in window
        };
    </script>
    <script>
        // 获取当前年份
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            const loadingScreen = document.querySelector('.loading-screen');
            const container = document.querySelector('.container');
            
            // 模拟内容加载完成
            setTimeout(() => {
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    container.classList.add('visible');
                }, 500);
            }, 800);
            
            // 滚动动画
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            // 观察所有需要动画的元素
            document.querySelectorAll('.card, .tech-stack, .social-links, .tech-item').forEach(el => {
                el.classList.add('fade-in');
                observer.observe(el);
            });

            // 为技能标签添加延迟动画
            document.querySelectorAll('.tech-item').forEach((item, index) => {
                item.style.transitionDelay = `${index * 0.1}s`;
            });
            
            // 滚动进度条
            window.addEventListener('scroll', () => {
                const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (winScroll / height) * 100;
                document.querySelector('.progress-bar').style.width = scrolled + '%';
            });

            // 模态框功能
            setupModals();
        });

        // 模态框管理
        function setupModals() {
            // 微信弹窗
            const wechatModal = document.getElementById('wechat-modal');
            const wechatBtn = document.getElementById('wechat-btn');
            const wechatClose = document.getElementById('wechat-close');

            // 博客弹窗
            const blogModal = document.getElementById('blog-modal');
            const blogBtn = document.getElementById('blog-btn');
            const blogClose = document.getElementById('blog-close');

            // 轮播图弹窗
            const carouselModal = document.getElementById('carousel-modal');
            const carouselModalImg = document.getElementById('carousel-modal-img');
            const carouselModalTitle = document.getElementById('carousel-modal-title');
            const carouselModalDesc = document.getElementById('carousel-modal-desc');
            const carouselClose = document.getElementById('carousel-close');

            // 显示微信弹窗
            function showWechatModal() {
                wechatModal.style.display = 'flex';
                setTimeout(() => {
                    wechatModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }, 10);
            }

            // 隐藏微信弹窗
            function hideWechatModal() {
                wechatModal.classList.remove('active');
                setTimeout(() => {
                    wechatModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 300);
            }

            // 显示博客弹窗
            function showBlogModal() {
                blogModal.style.display = 'flex';
                setTimeout(() => {
                    blogModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }, 10);
            }

            // 隐藏博客弹窗
            function hideBlogModal() {
                blogModal.classList.remove('active');
                setTimeout(() => {
                    blogModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 300);
            }

            // 显示轮播图弹窗
            function showCarouselModal(slide) {
                const modalContentId = slide.getAttribute('data-modal-content');
                carouselModalImg.src = slide.querySelector('img').src;
                carouselModalTitle.textContent = slide.querySelector('.slide-caption h3').textContent;
                carouselModalDesc.innerHTML = getModalContent(modalContentId);
                
                carouselModal.style.display = 'flex';
                setTimeout(() => {
                    carouselModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }, 10);
            }

            // 隐藏轮播图弹窗
            function hideCarouselModal() {
                carouselModal.classList.remove('active');
                setTimeout(() => {
                    carouselModal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 300);
            }

            // 绑定点击事件
            wechatBtn.addEventListener('click', showWechatModal);
            wechatClose.addEventListener('click', hideWechatModal);
            
            blogBtn.addEventListener('click', showBlogModal);
            blogClose.addEventListener('click', hideBlogModal);

            carouselClose.addEventListener('click', hideCarouselModal);

            // 点击模态框背景关闭
            wechatModal.addEventListener('click', (e) => {
                if (e.target === wechatModal) hideWechatModal();
            });

            blogModal.addEventListener('click', (e) => {
                if (e.target === blogModal) hideBlogModal();
            });

            carouselModal.addEventListener('click', (e) => {
                if (e.target === carouselModal) hideCarouselModal();
            });

            // ESC键关闭弹窗
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    hideWechatModal();
                    hideBlogModal();
                    hideCarouselModal();
                }
            });
        }

        // 轮播图功能初始化
        function initCarousel() {
            const carousel = document.querySelector('.carousel');
            const track = carousel.querySelector('.carousel-track');
            const slides = Array.from(track.children);
            const nextButton = carousel.querySelector('.carousel-button.next');
            const prevButton = carousel.querySelector('.carousel-button.prev');
            const dotsNav = carousel.querySelector('.carousel-dots');
            const dots = Array.from(dotsNav.children);
            
            let currentIndex = 0;
            let touchStartX = 0;
            let touchEndX = 0;
            let autoPlayInterval;

            // 监听页面显示状态
            document.addEventListener('visibilitychange', () => {
                const carouselModal = document.getElementById('carousel-modal');
                if (document.visibilityState === 'visible' && carouselModal) {
                    carouselModal.style.display = 'none';
                    carouselModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });

            // 修改为window级别的事件监听
            window.addEventListener('beforeunload', () => {
                const carouselModal = document.getElementById('carousel-modal');
                if (carouselModal) {
                    carouselModal.style.display = 'none';
                    carouselModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });

            // 移动到指定幻灯片
            function moveToSlide(index) {
                if (index < 0) index = slides.length - 1;
                if (index >= slides.length) index = 0;
                
                currentIndex = index;
                track.style.transform = `translateX(-${index * (100 / slides.length)}%)`;
                updateDots();
            }

            // 更新导航圆点状态
            function updateDots() {
                dots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === currentIndex);
                });
            }

            // 自动播放
            function startAutoPlay() {
                stopAutoPlay();
                autoPlayInterval = setInterval(() => {
                    moveToSlide(currentIndex + 1);
                }, 5000);
            }

            function stopAutoPlay() {
                if (autoPlayInterval) {
                    clearInterval(autoPlayInterval);
                }
            }

            // 为前后按钮添加点击事件
            nextButton.addEventListener('click', () => {
                moveToSlide(currentIndex + 1);
                stopAutoPlay();
                startAutoPlay();
            });

            prevButton.addEventListener('click', () => {
                moveToSlide(currentIndex - 1);
                stopAutoPlay();
                startAutoPlay();
            });

            // 轮播图点击事件 - 改为打开新页面
            slides.forEach((slide, index) => {
                slide.style.cursor = 'pointer';
                slide.addEventListener('click', (e) => {
                    e.preventDefault();
                    const projectId = `project${index + 1}`;
                    // 在打开新页面前确保当前页面的弹窗已关闭
                    const carouselModal = document.getElementById('carousel-modal');
                    if (carouselModal) {
                        carouselModal.style.display = 'none';
                        carouselModal.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    }
                    window.open(`project-detail.html?id=${projectId}`, '_blank');
                });
            });

            // 触摸事件支持
            track.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                stopAutoPlay();
            }, { passive: true });

            track.addEventListener('touchmove', (e) => {
                touchEndX = e.touches[0].clientX;
            }, { passive: true });

            track.addEventListener('touchend', () => {
                const diff = touchStartX - touchEndX;
                if (Math.abs(diff) > 50) {
                    if (diff > 0) {
                        moveToSlide(currentIndex + 1);
                    } else {
                        moveToSlide(currentIndex - 1);
                    }
                }
                startAutoPlay();
            });

            // 点击圆点导航
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    moveToSlide(index);
                    stopAutoPlay();
                    startAutoPlay();
                });
            });

            // 鼠标悬停时暂停自动播放
            carousel.addEventListener('mouseenter', stopAutoPlay);
            carousel.addEventListener('mouseleave', startAutoPlay);

            // 初始化
            moveToSlide(0);
            startAutoPlay();
        }

        // 页面加载完成后初始化轮播图
        document.addEventListener('DOMContentLoaded', initCarousel);

        // 骨架屏加载完成后隐藏
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                document.querySelectorAll('.skeleton-wrapper').forEach(skeleton => {
                    skeleton.style.display = 'none';
                });
                document.querySelector('.container').style.opacity = '1';
            }, 800);
        });
    </script>
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>

</html>